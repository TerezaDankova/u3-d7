{"ast":null,"code":"var _jsxFileName = \"/Users/terezadankova/Desktop/GitHub/u3-d7/src/Components/CommentArea.jsx\",\n    _s = $RefreshSig$();\n\nimport CommentList from './CommentList';\nimport AddComment from './AddComment';\nimport Loading from '../Components2/Loading';\nimport Error from '../Components2/Error';\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CommentArea = props => {\n  _s();\n\n  const [state, setState] = useState({\n    comments: [],\n    isLoading: false,\n    isError: false\n  });\n  useEffect(() => {\n    fetchComments();\n  }, [props.asin]);\n\n  const fetchComments = async () => {\n    setState({\n      isLoading: true\n    });\n\n    try {\n      const response = await fetch('https://striveschool-api.herokuapp.com/api/comments/' + props.asin, {\n        headers: {\n          Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzA3YTZiMzFlYjc2ZDAwMTUxNTAyNDgiLCJpYXQiOjE2NjI2MzU5NTUsImV4cCI6MTY2Mzg0NTU1NX0.Sxfd0UiSLfePsqw61xi9cF1H4BolbnnnXU9ZIOmNft0'\n        }\n      });\n      console.log(response);\n\n      if (response.ok) {\n        const comments = await response.json();\n        console.log(comments);\n        setState({\n          comments: comments,\n          isLoading: false,\n          isError: false\n        });\n      } else {\n        console.log('error');\n        setState({\n          isLoading: false,\n          isError: true\n        });\n      }\n    } catch (error) {\n      console.log(error);\n      setState({\n        isLoading: false,\n        isError: true\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [state.isLoading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 33\n    }, this), state.isError && /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 31\n    }, this), /*#__PURE__*/_jsxDEV(AddComment, {\n      asin: props.asin,\n      didAddComment: () => fetchComments()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CommentList, {\n      commentShow: state.comments,\n      didDelete: () => fetchComments()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CommentArea, \"LtnVDQ4sZ6HEoSfmDcSp4o4C1VA=\");\n\n_c = CommentArea;\nexport default CommentArea;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentArea\");","map":{"version":3,"names":["CommentList","AddComment","Loading","Error","useState","useEffect","CommentArea","props","state","setState","comments","isLoading","isError","fetchComments","asin","response","fetch","headers","Authorization","console","log","ok","json","error"],"sources":["/Users/terezadankova/Desktop/GitHub/u3-d7/src/Components/CommentArea.jsx"],"sourcesContent":["\nimport CommentList from './CommentList'\nimport AddComment from './AddComment'\nimport Loading from '../Components2/Loading'\nimport Error from '../Components2/Error'\nimport { useState, useEffect } from \"react\";\n\n\nconst CommentArea = (props) => {\n\n    const [state, setState] = useState({\n        comments: [],\n        isLoading: false,\n        isError: false\n       }\n    )\n\n    useEffect(() => {\n        fetchComments()\n    }, [props.asin])\n\n \n    \n    const fetchComments = async () => {\n        setState({\n            isLoading: true\n        })\n        try { \n            const response = await fetch('https://striveschool-api.herokuapp.com/api/comments/' + props.asin, {\n            headers: { Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzA3YTZiMzFlYjc2ZDAwMTUxNTAyNDgiLCJpYXQiOjE2NjI2MzU5NTUsImV4cCI6MTY2Mzg0NTU1NX0.Sxfd0UiSLfePsqw61xi9cF1H4BolbnnnXU9ZIOmNft0'\n            }})\n            console.log(response)\n        if (response.ok){\n            const comments = await response.json();\n            console.log(comments)\n            setState({comments: comments , isLoading:false, isError: false})\n        }\n        else {\n            console.log('error')\n            setState({ isLoading:false , isError: true})\n        }}\n        catch(error){ console.log(error) \n            setState({ isLoading:false , isError: true})\n        }\n    }\n  \n        return (\n        <>\n            {state.isLoading && <Loading />}\n            {state.isError && <Error />}\n            <AddComment asin={props.asin} didAddComment={() => fetchComments()} />\n            <CommentList commentShow={state.comments} didDelete={() => fetchComments()}/>\n        </>\n        )\n}\n\nexport default CommentArea"],"mappings":";;;AACA,OAAOA,WAAP,MAAwB,eAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;;;AAGA,MAAMC,WAAW,GAAIC,KAAD,IAAW;EAAA;;EAE3B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC;IAC/BM,QAAQ,EAAE,EADqB;IAE/BC,SAAS,EAAE,KAFoB;IAG/BC,OAAO,EAAE;EAHsB,CAAD,CAAlC;EAOAP,SAAS,CAAC,MAAM;IACZQ,aAAa;EAChB,CAFQ,EAEN,CAACN,KAAK,CAACO,IAAP,CAFM,CAAT;;EAMA,MAAMD,aAAa,GAAG,YAAY;IAC9BJ,QAAQ,CAAC;MACLE,SAAS,EAAE;IADN,CAAD,CAAR;;IAGA,IAAI;MACA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,yDAAyDT,KAAK,CAACO,IAAhE,EAAsE;QAClGG,OAAO,EAAE;UAAEC,aAAa,EAAE;QAAjB;MADyF,CAAtE,CAA5B;MAGAC,OAAO,CAACC,GAAR,CAAYL,QAAZ;;MACJ,IAAIA,QAAQ,CAACM,EAAb,EAAgB;QACZ,MAAMX,QAAQ,GAAG,MAAMK,QAAQ,CAACO,IAAT,EAAvB;QACAH,OAAO,CAACC,GAAR,CAAYV,QAAZ;QACAD,QAAQ,CAAC;UAACC,QAAQ,EAAEA,QAAX;UAAsBC,SAAS,EAAC,KAAhC;UAAuCC,OAAO,EAAE;QAAhD,CAAD,CAAR;MACH,CAJD,MAKK;QACDO,OAAO,CAACC,GAAR,CAAY,OAAZ;QACAX,QAAQ,CAAC;UAAEE,SAAS,EAAC,KAAZ;UAAoBC,OAAO,EAAE;QAA7B,CAAD,CAAR;MACH;IAAC,CAbF,CAcA,OAAMW,KAAN,EAAY;MAAEJ,OAAO,CAACC,GAAR,CAAYG,KAAZ;MACVd,QAAQ,CAAC;QAAEE,SAAS,EAAC,KAAZ;QAAoBC,OAAO,EAAE;MAA7B,CAAD,CAAR;IACH;EACJ,CArBD;;EAuBI,oBACA;IAAA,WACKJ,KAAK,CAACG,SAAN,iBAAmB,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QADxB,EAEKH,KAAK,CAACI,OAAN,iBAAiB,QAAC,KAAD;MAAA;MAAA;MAAA;IAAA,QAFtB,eAGI,QAAC,UAAD;MAAY,IAAI,EAAEL,KAAK,CAACO,IAAxB;MAA8B,aAAa,EAAE,MAAMD,aAAa;IAAhE;MAAA;MAAA;MAAA;IAAA,QAHJ,eAII,QAAC,WAAD;MAAa,WAAW,EAAEL,KAAK,CAACE,QAAhC;MAA0C,SAAS,EAAE,MAAMG,aAAa;IAAxE;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA,gBADA;AAQP,CA9CD;;GAAMP,W;;KAAAA,W;AAgDN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}